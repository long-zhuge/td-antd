---
name: Login
route: /login
menu: 组件
---

import { Playground } from 'docz';
import Login from './index';
import toast from '../toast';
import { Button } from 'antd';

## Login

FoodPanel 产品的组合登录组件，包含 "登录、注册、重置密码"，支持中英文。

<Playground>
  {class Example extends React.Component {
    constructor(props) {
      this.state = {
        locale: 'zh',
      };
    }

    render () {
      const { locale } = this.state;

      return (
        <React.Fragment>
          <Button onClick={() => { this.setState({ locale: locale === 'zh' ? 'en' : 'zh' }) }}>切换语言</Button>
          <br />
          <br />
          <Login
            locale={locale}
            onSignInSuccess={(res) => {
              console.log(res);
              toast({ text: '登录成功' })
            }}
          />
        </React.Fragment>
      )
    }
  }}
</Playground>

### API

|参数|说明|类型|默认值|
|:--|:--|:--|:--|
|proxy|代理标示|string|/srm|
|locale|语言，可设置为 en/zh|string|en|
|customSingInTitle|自定义登录页标题名称|string/reactNode|-|
|onSignInSuccess|登录成功后的回调函数|function({ dataObject, go })|-|
|onSignUpSuccess|注册成功后的回调函数|function(dataObject)|-|
|onBackHomepage|自定义返回首页的回调函数|function|-|
|homepagePath|首页地址，onBackHomepage存在时，该属性失效|string|/welcome|

> 注意：需要 localConfig.config 设置 appStore 后才能正常使用 homepagePath 属性

## Login.SignIn

独立的登录组件

<Playground>
  {class Example extends React.Component {
    constructor(props) {
      this.state = {
        locale: 'zh',
      };
    }

    render () {
      const { locale } = this.state;

      return (
        <React.Fragment>
          <Button onClick={() => { this.setState({ locale: locale === 'zh' ? 'en' : 'zh' }) }}>切换语言</Button>
          <br />
          <br />
          <Login.SignIn
            locale={locale}
            onSignIn={(res) => {
              console.log(res);
              toast({ text: '登录成功' })
            }}
          />
        </React.Fragment>
      )
    }
  }}
</Playground>

### API

|参数|说明|类型|默认值|
|:--|:--|:--|:--|
|proxy|代理标示|string|/srm|
|locale|语言，可设置为 en/zh|string|en|
|customTitle|自定义登录页标题名称|string/reactNode|-|
|isSignUpButton|是否有注册按钮|boolean|true|
|isResetButton|是否有重置按钮|boolean|true|
|onSignIn|登录成功后的回调函数|function({ dataObject, go })|-|
|onSignUp|点击注册按钮事件，isSignUpButton = true 时可生效|function|-|
|onResetPassword|忘记密码点击事件，isResetButton = true 时可生效|function|-|

## Login.SignUp

独立的注册组件

<Playground>
  {class Example extends React.Component {
    constructor(props) {
      this.state = {
        locale: 'zh',
      };
    }

    render () {
      const { locale } = this.state;

      return (
        <React.Fragment>
          <Button onClick={() => { this.setState({ locale: locale === 'zh' ? 'en' : 'zh' }) }}>切换语言</Button>
          <br />
          <br />
          <Login.SignUp
            locale={locale}
            onSignUp={(res) => {
              console.log(res);
              toast({ text: '注册成功' })
            }}
            onSignIn={() => {
              toast({ text: '=== 去登录页面 ===' })
            }}
          />
        </React.Fragment>
      )
    }
  }}
</Playground>

### API

|参数|说明|类型|默认值|
|:--|:--|:--|:--|
|proxy|代理标示|string|/srm|
|locale|语言，可设置为 en/zh|string|en|
|onSignIn|点击去登录的回调|function|-|
|onSignUp|注册成功后的回调|function(dataObject)|-|

## Login.ResetPassword

独立的密码重置组件

<Playground>
  {class Example extends React.Component {
    constructor(props) {
      this.state = {
        locale: 'zh',
      };
    }

    render () {
      const { locale } = this.state;

      return (
        <React.Fragment>
          <Button onClick={() => { this.setState({ locale: locale === 'zh' ? 'en' : 'zh' }) }}>切换语言</Button>
          <br />
          <br />
          <Login.ResetPassword
            locale={locale}
            onSignIn={() => {
              toast({ text: '=== 去登录页面 ===' })
            }}
          />
        </React.Fragment>
      )
    }
  }}
</Playground>

### API

|参数|说明|类型|默认值|
|:--|:--|:--|:--|
|proxy|代理标示|string|/srm|
|locale|语言，可设置为 en/zh|string|en|
|onSignIn|点击去登录的回调|function|-|
|onBackHomepage|自定义返回首页的回调函数|function|-|
|homepagePath|首页地址，onBackHomepage存在时，该属性失效|string|/welcome|
